#!/bin/bash

# Check if the JSON file from Task 0 exists
if [ ! -f pokemon_data.json ]; then
    echo "Error: pokemon_data.json file not found."
    exit 1
fi

# Extract and format the required data using jq and awk
jq -r '
    .name as $name |
    .types[0].type.name as $type |
    .weight as $weight |
    .height as $height |
    "\($name),\($type),\($weight),\($height)"
' pokemon_data.json | awk -F',' '{
    name = $1;

    # Capitalize type (first letter uppercase, rest lowercase)
    type = toupper(substr($2,1,1)) tolower(substr($2,2));

    # Convert weight from hectograms to kilograms
    weight = $3 / 10;

    # Convert height from decimeters to meters
    height = $4 / 10;

    # Print formatted output
    printf "%s is of type %s, weighs %.0fkg, and is %.1fm tall.\n", name, type, weight, height;
}'
